# hooks

- [1. 介绍](#1-介绍)
- [2. useCountdown](#2-usecountdown)
  - [2.1 参数](#21-参数)
    - [2.1.1 seconds](#211-seconds)
    - [2.1.2 identifier（可选）](#212-identifier可选)
  - [2.2 返回值](#22-返回值)
    - [2.2.1 count](#221-count)
    - [2.2.2 start](#222-start)
    - [2.2.3 stop](#223-stop)
    - [2.2.4 reset](#224-reset)
- [3. useQuickClicks](#3-usequickclicks)
  - [3.1 参数](#31-参数)
  - [3.1.1 times](#311-times)
  - [3.1.2 onFinish（可选）](#312-onfinish可选)
  - [3.2 返回值](#32-返回值)
    - [3.2.1 click](#321-click)

## 1. 介绍

该库放置一些通用的 `hook`。

## 2. useCountdown

一个倒计时工具，通常用于获取验证码等场景。

该 `hook` 可以支持应用在后台时倒计时不中断。

参数中包含的 `identifier` 参数支持传入一个唯一标识，当设置了唯一标识后，如果倒计时没有结束，即使所在的组件已经释放了，倒计时结束前重新加载该组件时，倒计时依然会延续。多个倒计时如果设置了相同的唯一标识，则其状态会联动，即其中一个开始所有的都会开始，一个结束所有的都会结束。

### 2.1 参数

#### 2.1.1 seconds

类型：`number`

倒计时初始值，单位为秒，默认为 60。

#### 2.1.2 identifier（可选）

类型：`string`

唯一标识，如果不传该值，倒计时所在组件释放后，倒计时会取消；如果设置了该值，倒计时所在组件释放后，倒计时会继续，如果倒计时结束前重新加载该组件，倒计时会延续。多个倒计时如果设置了相同的唯一标识，则状态会联动，即其中一个开始所有的都会开始，一个结束所有的都会结束。

需要注意的是，如果多个倒计时设置了相同的唯一标识，则 `seconds` 也应设置为相同的值，否则可能会出现时间展示错误。

### 2.2 返回值

#### 2.2.1 count

类型：`number | null`

倒计时当前所剩余的时间，单位为秒。如果组件加载后倒计时从未开始过，`count` 的值为 `null`，否则 `count` 一定为 `number` 类型。当 `count` 走到 `0` 时倒计时结束。

#### 2.2.2 start

类型：`() => void`

开始倒计时。

#### 2.2.3 stop

类型：`() => void`

结束倒计时，调用该方法后 `count` 的值会归 `0`。

#### 2.2.4 reset

类型：`() => void`

重置倒计时，调用该方法后 `count` 的值会归 `null`。

## 3. useQuickClicks

一个处理快速点击的工具，主要场景可以是处理进入环境切换界面前的连续点击。

### 3.1 参数

### 3.1.1 times

类型：`number`

触发事件需要连续点击的次数，必须为正整数，默认为 10。

### 3.1.2 onFinish（可选）

类型：`() => void`

连续点击完成后触发的事件。

### 3.2 返回值

#### 3.2.1 click

类型：`() => void`

点击方法，间隔 3 秒之内连续调用 `times` 次之后，就会触发 `onFinish` 回调。
